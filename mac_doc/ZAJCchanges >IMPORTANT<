**** PLEASE Please please please, read this file carefully**** Log file of changes which should be incorporated in main distribution**** see below for mac only changes...**** by !ZAJC!/GDS (Marin Saric); e-mail at: msaric@tir.com,****						     always cc: Marin.Saric@public.srce.hr[Arnaud, be sure to rename ".uaerc" to "uaerc" before starting the new version. I've put a file "Read me for filesystem" if you want  to start filesystem. You might want to check out the project settings at the bottom of this file ]	- in custom.c:	***		>> This is also BAD bug... Please try to contact Bernd on changes <<			customreset() doesn't get called when software reset is done.		when you initiate the hardware one, customreset () is called.		(I presume UAE does hard reset when you choose it from the menu)				Why is that bad?				Because customreset() calles expansion reset routines		which call filesystem reset routines... If they don't		get called, filesystem doesn't boot after software reset, so		filesystem partition doesn't mount.				Please guys, try to fix this.			- in drawing.c in fill_line,**	>>> THIS IS A SERIOUS BUG <<< Arnaud, you should e-mail Bernd**	about it.	val = colors_for_drawing.acolors[0];		should be changed to			switch (gfxvidinfo.pixbytes)		{			case 1:			{				unsigned char x=colors_for_drawing.acolors[0];		    	val = x|(x<<8)|(x<<16)|(x<<24);		    }		    break;		    case 2:		    {		    	unsigned short x=colors_for_drawing.acolors[0];		    	val = x|(x<<16);		    }		    break;		}				or something like that because otherwise val is not		filled properly so that for example, even pixels		in 16-bit mode would be filled with zero,		and only every 4th pixel in 8-bit would be filled		with the right value.			- getopt.c should include <string.h>, at least for Macs..	  I've seen the reasons why you guys haven't included it,	  however it won't compile although target.h, sysconfig.h	  and config.h are set properly..	  When string.h is added, everything works fine, no warnings,	  no errors, and code works.		- for macs, in main.c, parse_cmdline_and_init_file			strcpy (optionsfile,"");		should be		strcpy (optionsfile,":"); // Better safe then sorry, ":" is app								  // default dir.		**** ZAJC's changes in Mac distribution.****	Hi Arnaud!		I hope I did a lot of improvements :-)		Here they are:	- config.h			* MULTIPLICATION_PROFITABLE is true on PPC.		  (Especially G3's - 2,3,4 or 5 cycles only per mul)		- custom.c:			* added mac_vsync handling, take a look at vsync_handler function		* changed reset_frame_rate_hack in accordance to that.			- Dialog Utilities.c and Dialog Utilities.h			* adapted these files for Universal Headers 3.1.		(Arnaud, if you can, try to switch to UHdr3.1.. They are		really good and clean, but I admit it is a lot of work		to make CodeWarrior work with them..)			- disk.c++		>> THIS IS A BUGFIX <<			* Now you can write on non-zipped adf files..,		  did a lot of changes, see file for details..		  I've checked zlib documentation and seen		  that gzread supports reading to non-zipped		  files, but gzwrite doesn't support writing..		  so I did little changes to make disk write		  work on both zipped and non-zipped files.		  		  (If Bernd & co. also use zlib, and if they		  	use the gzwrite in the same way,		  	you should mail them for changes).		  	- drawing.c			* Did beforementioned changes in fill_line,			added some PowerPC unrolling optimizations..		  Check file for details..		  	- filesys.c			>>> Please remove this file from project file,			I have made so much changes that I made a			completely new file <<<				- filesys_zajc][.c			** HEHE!!! Now we Mac dudes have a filesystem 4 us..		** Mucho changero.. Lots of workos, very hardos :)))				>>> Please add this file to project <<<				If you want to see how I did it, check the source code,		I had lots of "phun" with it ;)...			- MacConfig.c			* Added neccessary includes to remain intact with			"Universal Headers 3.1" from Apple...				- macmalloc.c			* is missing Processes.h header file for			ExitToShell() function.. I added include <Processes.h>			(Universal Headers 3.1 again..)	- mac_direct2.c		* Blitting routines optimized for PPC.		* Some changes to conform to UHdr 3.1		* new synchro_routines :) (they work on all PPC's)	- sysconfig.h				* Adaptation to UHdr 3.1			-  System Utilities.c and System Utilities.h			* Adaptation to UHdr 3.1			-  target.h			* Changed prefs file from ".uaerc" to "uaerc"			Probably had to do that because of HFS+ (I guess?!,			it just doesn't work with .uaerc...)	++ My project settings are ++	(You don't have CodeWarrior IDE 2.0, so this is the only way to	 save the settings)		PPC processor:	Store static data in TOC, Use FMADD&FMSUB, no traceback tables, no profiler stuff,	603, global optimization, peephole optimization, level 4		linker:	Everything off except Dead-strip Static Initialization Code..		C/C++ language options:	Inline normal,	Require Function Prototypes,	Enable bool support,	Relaxed pointer type rules,	everything else off,	NO PREFIX FILE		C/C++ warnings:	Illegal pragmas, Unused variables, Extended error checking,	everything else off		Access paths:	{Compiler f}:Metrowerks Standard Library:MSL C:MSL Common:	{Compiler f}:Metrowerks Standard Library:MSL C:Bin:	{Compiler f}:MacOS Support:Headers:Universal Headers:	{Compiler f}:Metrowerks Standard Library:MSL C:MSL Mac:	{Compiler f}:MacOS Support:MacHeaders:	{Compiler f}:MacOS Support:Libraries:MacOS PPC:	{Compiler f}:MacOS Support:Libraries:MacOS Common:	{Compiler f}:MacOS Support:Libraries:Runtime:	-- Do not put any other access paths above these, only below,		because there could be conflict between headers..	